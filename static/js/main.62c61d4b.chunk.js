(this["webpackJsonpreact-ds"]=this["webpackJsonpreact-ds"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(27),s=a.n(c),r=a(9),i=a(7),o=a(8),l=a(4),u=a(12),d=a(11),m=a(14),h=a(5),b=a(35),j=a(6),f=(a(78),a(79),a(13)),O=a.n(f),p=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return O.a.post("http://localhost:8080/api/auth/signin",{email:e,password:t}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}());function v(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var g="http://localhost:8080/api",x=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return O.a.get(g+"/users",{headers:v()})}},{key:"getAllByType",value:function(e){return O.a.get(g+"/users/type/".concat(e),{headers:v()})}},{key:"get",value:function(e){return O.a.get(g+"/users/".concat(e),{headers:v()})}},{key:"create",value:function(e,t){return O.a.post(g+"/users?companyId=".concat(t),e,{headers:v()})}},{key:"update",value:function(e,t){return O.a.put(g+"/users/".concat(e),t,{headers:v()})}},{key:"delete",value:function(e){return O.a.delete(g+"/users/".concat(e),{headers:v()})}}]),e}()),N=a(24),y=a(38),C=a.n(y),k=a(0),w=[{name:"Id",selector:"id",sortable:!0},{name:"Nombre",selector:"name",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Rol",selector:"type",sortable:!0,cell:function(e){return Object(k.jsx)("span",{class:"badge badge-"+e.type,children:e.type})}},{name:"",sortable:!1,cell:function(e){return Object(k.jsx)("a",{href:"/users/"+e.id,class:"btn btn-info btn-sm",children:Object(k.jsx)(h.a,{icon:j.a})})}}],M={rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllrowsItemText:"todos"},S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeSearchName=n.onChangeSearchName.bind(Object(l.a)(n)),n.retrieveUsers=n.retrieveUsers.bind(Object(l.a)(n)),n.refreshList=n.refreshList.bind(Object(l.a)(n)),n.setActiveUser=n.setActiveUser.bind(Object(l.a)(n)),n.searchName=n.searchName.bind(Object(l.a)(n)),n.state={users:[],currentUser:null,currentIndex:-1,searchName:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.retrieveUsers()}},{key:"onChangeSearchName",value:function(e){var t=e.target.value;this.setState({searchName:t})}},{key:"retrieveUsers",value:function(){var e=this;x.getAll().then((function(t){e.setState({users:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveUsers(),this.setState({currentUser:null,currentIndex:-1})}},{key:"setActiveUser",value:function(e,t){this.setState({currentUser:e,currentIndex:t})}},{key:"searchName",value:function(){var e=this;x.findByName(this.state.searchName).then((function(t){e.setState({users:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"deleteUser",value:function(e){var t=this;x.delete(e).then((function(e){console.log(e.data),t.props.history.push("/users"),t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=(e.searchName,e.users);e.currentUser,e.currentIndex;return Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("h2",{className:"col-md-10",children:"Usuarios"}),Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsxs)(r.b,{to:"/users/add",className:"btn btn-info float-right",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Nuevo"]})})]}),0==t.length&&Object(k.jsx)("div",{className:"alert alert-warning",children:"No hay fabricantes"}),Object(k.jsx)(C.a,{columns:w,data:t,pagination:!0,paginationComponentOptions:M,striped:!0,highlightOnHover:!0,defaultSortField:"Id",noHeader:!0})]})})}}]),a}(n.Component),P=a(17),U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangeType=n.onChangeType.bind(Object(l.a)(n)),n.onChangeCompanyId=n.onChangeCompanyId.bind(Object(l.a)(n)),n.getUser=n.getUser.bind(Object(l.a)(n)),n.updateUser=n.updateUser.bind(Object(l.a)(n)),n.deleteUser=n.deleteUser.bind(Object(l.a)(n)),n.state={currentUser:{id:null,name:"",email:"",type:"Administrator",companyId:1},message:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getUser(this.props.match.params.id)}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentUser:Object(P.a)(Object(P.a)({},e.currentUser),{},{name:t})}}))}},{key:"onChangeEmail",value:function(e){var t=e.target.value;this.setState((function(e){return{currentUser:Object(P.a)(Object(P.a)({},e.currentUser),{},{email:t})}}))}},{key:"onChangeType",value:function(e){var t=e.target.value;this.setState((function(e){return{currentUser:Object(P.a)(Object(P.a)({},e.currentUser),{},{type:t})}}))}},{key:"onChangeCompanyId",value:function(e){var t=e.target.value;this.setState((function(e){return{currentUser:Object(P.a)(Object(P.a)({},e.currentUser),{},{companyId:t})}}))}},{key:"getUser",value:function(e){var t=this;x.get(e).then((function(e){t.setState({currentUser:e.data}),"Administrator"==t.state.type&&(t.state.customerId=e.data.customer.id),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updateUser",value:function(){var e=this;x.update(this.state.currentUser.id,this.state.currentUser).then((function(t){console.log(t.data),console.log("UPDATE"),e.props.history.push("/users")})).catch((function(e){console.log(e)}))}},{key:"deleteUser",value:function(){var e=this;x.delete(this.state.currentUser.id).then((function(t){console.log(t.data),e.props.history.push("/users")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.currentUser;return Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-sm-12",children:e?Object(k.jsxs)("div",{className:"edit-form",children:[Object(k.jsxs)("h4",{children:["Usuario ",e.id]}),Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",value:e.name,onChange:this.onChangeName})]}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"email",className:"col-sm-1 col-form-label",children:"Email"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"email",required:!0,value:e.email,onChange:this.onChangeEmail,name:"email"})]}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"type",className:"col-sm-1 col-form-label",children:"Rol"}),Object(k.jsxs)("select",{className:"form-control col-sm-6",id:"type",required:!0,value:e.type,onChange:this.onChangeType,name:"type",children:[Object(k.jsx)("option",{value:"Administrator",children:"Administrador"}),Object(k.jsx)("option",{value:"Customer",children:"Cliente"}),Object(k.jsx)("option",{value:"Technician",children:"T\xe9cnico"})]})]}),"Customer"==e.type&&Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"companyId",className:"col-sm-1 col-form-label",children:"Empresa"}),Object(k.jsx)("select",{className:"form-control col-sm-6",id:"companyId",required:!0,value:e.companyId,onChange:this.onChangeCompanyId,name:"companyId",children:Object(k.jsx)("option",{value:"1",children:"1"})})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)(r.b,{to:"/users",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{type:"submit",className:"btn btn-info btn-sm mr-1",onClick:this.updateUser,children:[Object(k.jsx)(h.a,{icon:j.a,className:"mr-2"}),"Guardar"]}),Object(k.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:this.deleteUser,children:[Object(k.jsx)(h.a,{icon:j.f,className:"mr-2"}),"Eliminar"]})]}),Object(k.jsx)("p",{children:this.state.message})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Please click on a User..."})]})})})}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangeType=n.onChangeType.bind(Object(l.a)(n)),n.onChangeCompanyId=n.onChangeCompanyId.bind(Object(l.a)(n)),n.saveUser=n.saveUser.bind(Object(l.a)(n)),n.newUser=n.newUser.bind(Object(l.a)(n)),n.state={id:null,name:"",email:"",type:"Administrator",companyId:1,submitted:!1},n}return Object(o.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeType",value:function(e){this.setState({type:e.target.value})}},{key:"onChangeCompanyId",value:function(e){this.setState({companyId:e.target.value})}},{key:"saveUser",value:function(){var e=this,t={name:this.state.name,email:this.state.email,type:this.state.type,companyId:this.state.companyId};x.create(t,this.state.companyId).then((function(t){e.setState({id:t.data.id,name:t.data.name,email:t.data.email,type:t.data.type,companyId:t.data.companyId,submitted:!0}),console.log(t.data),e.props.history.push("/users")})).catch((function(e){console.log(e)}))}},{key:"newUser",value:function(){this.setState({id:null,name:"",email:"",type:"Administrator",companyId:1,submitted:!1})}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"You submitted successfully!"}),Object(k.jsx)("button",{className:"btn btn-success",onClick:this.newUser,children:"Add"})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"Nuevo Usuario"}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})]}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"email",className:"col-sm-1 col-form-label",children:"Email"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"email",required:!0,value:this.state.email,onChange:this.onChangeEmail,name:"email"})]}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"type",className:"col-sm-1 col-form-label",children:"Rol"}),Object(k.jsxs)("select",{className:"form-control col-sm-6",id:"type",required:!0,value:this.state.type,onChange:this.onChangeType,name:"type",children:[Object(k.jsx)("option",{value:"Administrator",children:"Administrador"}),Object(k.jsx)("option",{value:"Customer",children:"Cliente"}),Object(k.jsx)("option",{value:"Technician",children:"T\xe9cnico"})]})]}),"Customer"==this.state.type&&Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"companyId",className:"col-sm-1 col-form-label",children:"Empresa"}),Object(k.jsx)("select",{className:"form-control col-sm-6",id:"companyId",required:!0,value:this.state.companyId,onChange:this.onChangeCompanyId,name:"companyId",children:Object(k.jsx)("option",{value:"1",children:"1"})})]}),Object(k.jsxs)(r.b,{to:"/users",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{onClick:this.saveUser,className:"btn btn-info btn-sm",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Crear"]})]})})}}]),a}(n.Component),A="http://localhost:8080/api",E=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return O.a.get("http://localhost:8080/api/manufacturers",{headers:v()})}},{key:"get",value:function(e){return O.a.get(A+"/manufacturers/".concat(e),{headers:v()})}},{key:"create",value:function(e){return O.a.post("http://localhost:8080/api/manufacturers",e,{headers:v()})}},{key:"update",value:function(e,t){return O.a.put(A+"/manufacturers/".concat(e),t,{headers:v()})}},{key:"delete",value:function(e){return O.a.delete(A+"/manufacturers/".concat(e),{headers:v()})}},{key:"getProducts",value:function(e){return O.a.get(A+"/manufacturers/".concat(e,"/products"),{headers:v()})}},{key:"getProduct",value:function(e){return O.a.get(A+"/products/".concat(e),{headers:v()})}},{key:"createProduct",value:function(e){return O.a.post("http://localhost:8080/api/products",e,{headers:v()})}},{key:"updateProduct",value:function(e,t){return O.a.put(A+"/products/".concat(e),t,{headers:v()})}},{key:"deleteProduct",value:function(e){return O.a.delete(A+"/products/".concat(e),{headers:v()})}}]),e}()),L=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeSearchName=n.onChangeSearchName.bind(Object(l.a)(n)),n.retrieveManufacturers=n.retrieveManufacturers.bind(Object(l.a)(n)),n.refreshList=n.refreshList.bind(Object(l.a)(n)),n.setActiveManufacturer=n.setActiveManufacturer.bind(Object(l.a)(n)),n.searchName=n.searchName.bind(Object(l.a)(n)),n.deleteManufacturer=n.deleteManufacturer.bind(Object(l.a)(n)),n.state={manufacturers:[],currentManufacturer:null,currentIndex:-1,searchName:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.retrieveManufacturers()}},{key:"onChangeSearchName",value:function(e){var t=e.target.value;this.setState({searchName:t})}},{key:"retrieveManufacturers",value:function(){var e=this;E.getAll().then((function(t){e.setState({manufacturers:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveManufacturers(),this.setState({currentManufacturer:null,currentIndex:-1})}},{key:"setActiveManufacturer",value:function(e,t){this.setState({currentManufacturer:e,currentIndex:t})}},{key:"searchName",value:function(){var e=this;E.findByName(this.state.searchName).then((function(t){e.setState({manufacturers:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"deleteManufacturer",value:function(e){var t=this;E.delete(e).then((function(e){console.log(e.data),t.props.history.push("/manufacturers"),t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.searchName,t.manufacturers);t.currentManufacturer,t.currentIndex;return Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("h2",{className:"col-md-10",children:"Fabricantes"}),Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsxs)(r.b,{to:"/manufacturers/add",className:"btn btn-info float-right",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Nuevo"]})})]}),a.length>0&&Object(k.jsxs)("table",{className:"table table-striped table-bordered table-hover",children:[Object(k.jsx)("thead",{className:"table-info",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"width20",children:"Id"}),Object(k.jsx)("th",{className:"width60",children:"Nombre"}),Object(k.jsx)("th",{className:"width20",children:"Acciones"})]})}),Object(k.jsx)("tbody",{children:a&&a.map((function(t,a){return Object(k.jsxs)("tr",{onClick:function(){return e.setActiveManufacturer(t,a)},children:[Object(k.jsx)("td",{children:t.id}),Object(k.jsx)("td",{children:t.name}),Object(k.jsxs)("td",{children:[Object(k.jsx)(r.b,{to:"/manufacturers/"+t.id+"/view",className:"btn btn-sm btn-info mr-1","data-tip":"Ver",children:Object(k.jsx)(h.a,{icon:j.b})}),Object(k.jsx)(r.b,{to:"/manufacturers/"+t.id,className:"btn btn-sm btn-info mr-1","data-tip":"Editar",children:Object(k.jsx)(h.a,{icon:j.a})}),Object(k.jsxs)("button",{className:"btn btn-sm btn-danger","data-tip":"Eliminar",onClick:function(){e.deleteManufacturer(t.id)},children:[Object(k.jsx)(N.a,{}),Object(k.jsx)(h.a,{icon:j.f})]})]})]},a)}))})]}),0==a.length&&Object(k.jsx)("div",{className:"alert alert-warning",children:"No hay fabricantes"})]})})}}]),a}(n.Component),F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.getManufacturer=n.getManufacturer.bind(Object(l.a)(n)),n.updateManufacturer=n.updateManufacturer.bind(Object(l.a)(n)),n.deleteManufacturer=n.deleteManufacturer.bind(Object(l.a)(n)),n.state={currentManufacturer:{id:null,name:""},message:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getManufacturer(this.props.match.params.id)}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentManufacturer:Object(P.a)(Object(P.a)({},e.currentManufacturer),{},{name:t})}}))}},{key:"getManufacturer",value:function(e){var t=this;E.get(e).then((function(e){t.setState({currentManufacturer:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updateManufacturer",value:function(){var e=this;E.update(this.state.currentManufacturer.id,this.state.currentManufacturer).then((function(t){console.log(t.data),e.props.history.push("/manufacturers")})).catch((function(e){console.log(e)}))}},{key:"deleteManufacturer",value:function(){var e=this;E.delete(this.state.currentManufacturer.id).then((function(t){console.log(t.data),e.props.history.push("/manufacturers")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.currentManufacturer;return Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-sm-12",children:e?Object(k.jsxs)("div",{className:"edit-form",children:[Object(k.jsx)("h4",{children:"Fabricante"}),Object(k.jsx)("form",{children:Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",value:e.name,onChange:this.onChangeName})]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)(r.b,{to:"/manufacturers",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{type:"submit",className:"btn btn-info btn-sm mr-1",onClick:this.updateManufacturer,children:[Object(k.jsx)(h.a,{icon:j.a,className:"mr-2"}),"Guardar"]}),Object(k.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:this.deleteManufacturer,children:[Object(k.jsx)(h.a,{icon:j.f,className:"mr-2"}),"Eliminar"]})]}),Object(k.jsx)("p",{children:this.state.message})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Please click on a Manufacturer..."})]})})})}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.saveManufacturer=n.saveManufacturer.bind(Object(l.a)(n)),n.newManufacturer=n.newManufacturer.bind(Object(l.a)(n)),n.state={id:null,name:"",submitted:!1},n}return Object(o.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"saveManufacturer",value:function(){var e=this,t={name:this.state.name};E.create(t).then((function(t){e.setState({id:t.data.id,name:t.data.name,submitted:!0}),console.log(t.data),e.props.history.push("/manufacturers")})).catch((function(e){console.log(e)}))}},{key:"newManufacturer",value:function(){this.setState({id:null,name:"",submitted:!1})}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"You submitted successfully!"}),Object(k.jsx)("button",{className:"btn btn-success",onClick:this.newManufacturer,children:"Add"})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"Nuevo fabricante"}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})]}),Object(k.jsxs)(r.b,{to:"/manufacturers",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{onClick:this.saveManufacturer,className:"btn btn-info btn-sm",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Crear"]})]})})}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getManufacturer=n.getManufacturer.bind(Object(l.a)(n)),n.getProducts=n.getProducts.bind(Object(l.a)(n)),n.deleteProduct=n.deleteProduct.bind(Object(l.a)(n)),n.refreshList=n.refreshList.bind(Object(l.a)(n)),n.state={currentManufacturer:{id:null,name:""},message:"",products:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getManufacturer(this.props.match.params.id),this.getProducts(this.props.match.params.id)}},{key:"getManufacturer",value:function(e){var t=this;E.get(e).then((function(e){t.setState({currentManufacturer:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"getProducts",value:function(e){var t=this;E.getProducts(e).then((function(e){t.setState({products:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"deleteProduct",value:function(e){var t=this;E.deleteProduct(e).then((function(e){console.log(e.data),t.props.history.push("/manufacturers/"+t.state.currentManufacturer.id+"/view"),t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.getProducts(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentManufacturer,n=t.products;return Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsxs)("h2",{children:["Fabricante ",a.name]}),Object(k.jsx)("div",{children:Object(k.jsxs)(r.b,{to:"/manufacturers/"+a.id+"/addProduct",className:"btn btn-info float-right",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Nuevo producto"]})}),Object(k.jsx)("h3",{children:"Productos"}),Object(k.jsxs)("table",{className:"table table-striped table-bordered table-hover",children:[Object(k.jsx)("thead",{className:"table-info",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"width20",children:"Id"}),Object(k.jsx)("th",{className:"width60",children:"Nombre"}),Object(k.jsx)("th",{className:"width20",children:"Acciones"})]})}),Object(k.jsx)("tbody",{children:n&&n.map((function(t,a){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t.id}),Object(k.jsx)("td",{children:t.name}),Object(k.jsxs)("td",{children:[Object(k.jsx)(r.b,{to:"/products/"+t.id,className:"btn btn-sm btn-info mr-1","data-tip":"Editar",children:Object(k.jsx)(h.a,{icon:j.a})}),Object(k.jsxs)("button",{className:"btn btn-sm btn-danger","data-tip":"Eliminar",onClick:function(){e.deleteProduct(t.id)},children:[Object(k.jsx)(N.a,{}),Object(k.jsx)(h.a,{icon:j.f})]})]})]},a)}))})]}),Object(k.jsxs)(r.b,{to:"/manufacturers",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]})]})})}}]),a}(n.Component),V=a(42),q=a.n(V),B=a(33),J=a.n(B),G=a(43),K=a.n(G),R=function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger mt-1",role:"alert",children:"Este campo es obligatorio"})},Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getManufacturer=n.getManufacturer.bind(Object(l.a)(n)),n.onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.saveProduct=n.saveProduct.bind(Object(l.a)(n)),n.newProduct=n.newProduct.bind(Object(l.a)(n)),n.state={currentManufacturer:{id:null,name:""},id:null,name:"",submitted:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getManufacturer(this.props.match.params.id)}},{key:"getManufacturer",value:function(e){var t=this;E.get(e).then((function(e){t.setState({currentManufacturer:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"saveProduct",value:function(e){var t=this;if(e.preventDefault(),this.form.validateAll(),0===this.checkBtn.context._errors.length){var a={name:this.state.name,manufacturer:this.state.currentManufacturer};E.createProduct(a).then((function(e){t.setState({id:e.data.id,name:e.data.name,submitted:!0}),console.log(e.data),t.props.history.push("/manufacturers/"+t.state.currentManufacturer.id+"/view")})).catch((function(e){console.log(e)}))}}},{key:"newProduct",value:function(){this.setState({id:null,name:"",submitted:!1})}},{key:"render",value:function(){var e=this,t=this.state.currentManufacturer;return Object(k.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"You submitted successfully!"}),Object(k.jsx)("button",{className:"btn btn-success",onClick:this.newProduct,children:"Add"})]}):Object(k.jsxs)("div",{children:[Object(k.jsxs)("h4",{children:[t.name," Nuevo producto"]}),Object(k.jsxs)(q.a,{onSubmit:this.saveProduct,ref:function(t){e.form=t},children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"name",children:"Nombre"}),Object(k.jsx)(J.a,{type:"text",className:"form-control col-sm-6",name:"name",value:this.state.name,onChange:this.onChangeName,validations:[R]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsxs)(r.b,{to:"/manufacturers/"+t.id+"/view",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{className:"btn btn-info btn-sm",disabled:this.state.loading,children:[this.state.loading&&Object(k.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Crear"]})]}),this.state.message&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(k.jsx)(K.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.getProduct=n.getProduct.bind(Object(l.a)(n)),n.updateProduct=n.updateProduct.bind(Object(l.a)(n)),n.deleteProduct=n.deleteProduct.bind(Object(l.a)(n)),n.state={currentProduct:{id:null,name:""},message:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getProduct(this.props.match.params.id)}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(P.a)(Object(P.a)({},e.currentProduct),{},{name:t})}}))}},{key:"getProduct",value:function(e){var t=this;E.getProduct(e).then((function(e){t.setState({currentProduct:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updateProduct",value:function(){var e=this;E.updateProduct(this.state.currentProduct.id,this.state.currentProduct).then((function(t){console.log(t.data),e.props.history.push("/manufacturers")})).catch((function(e){console.log(e)}))}},{key:"deleteProduct",value:function(){var e=this;E.deleteProduct(this.state.currentProduct.id).then((function(t){console.log(t.data),e.props.history.push("/manufacturers")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.currentProduct;return Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-sm-12",children:e?Object(k.jsxs)("div",{className:"edit-form",children:[Object(k.jsx)("h4",{children:"Fabricante"}),Object(k.jsx)("form",{children:Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",value:e.name,onChange:this.onChangeName})]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)(r.b,{to:"/manufacturers",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{type:"submit",className:"btn btn-info btn-sm mr-1",onClick:this.updateProduct,children:[Object(k.jsx)(h.a,{icon:j.a,className:"mr-2"}),"Guardar"]}),Object(k.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:this.deleteProduct,children:[Object(k.jsx)(h.a,{icon:j.f,className:"mr-2"}),"Eliminar"]})]}),Object(k.jsx)("p",{children:this.state.message})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Please click on a Product..."})]})})})}}]),a}(n.Component),W="http://localhost:8080/api",_=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return O.a.get(W+"/companies",{headers:v()})}},{key:"get",value:function(e){return O.a.get(W+"/companies/".concat(e),{headers:v()})}},{key:"create",value:function(e){return O.a.post(W+"/companies",e,{headers:v()})}},{key:"update",value:function(e,t){return O.a.put(W+"/companies/".concat(e),t,{headers:v()})}},{key:"delete",value:function(e){return O.a.delete(W+"/companies/".concat(e),{headers:v()})}},{key:"getMachines",value:function(e){return O.a.get(W+"/companies/".concat(e,"/machines"),{headers:v()})}},{key:"getMachine",value:function(e){return O.a.get(W+"/machines/".concat(e),{headers:v()})}},{key:"createMachine",value:function(e){return O.a.post(W+"/machines",e,{headers:v()})}},{key:"updateMachine",value:function(e,t){return O.a.put(W+"/machines/".concat(e),t,{headers:v()})}},{key:"deleteMachine",value:function(e){return O.a.delete(W+"/machines/".concat(e),{headers:v()})}}]),e}()),z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeSearchName=n.onChangeSearchName.bind(Object(l.a)(n)),n.retrieveCompanies=n.retrieveCompanies.bind(Object(l.a)(n)),n.refreshList=n.refreshList.bind(Object(l.a)(n)),n.setActiveCompany=n.setActiveCompany.bind(Object(l.a)(n)),n.searchName=n.searchName.bind(Object(l.a)(n)),n.deleteCompany=n.deleteCompany.bind(Object(l.a)(n)),n.state={companies:[],currentCompany:null,currentIndex:-1,searchName:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.retrieveCompanies()}},{key:"onChangeSearchName",value:function(e){var t=e.target.value;this.setState({searchName:t})}},{key:"retrieveCompanies",value:function(){var e=this;_.getAll().then((function(t){e.setState({companies:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveCompanies(),this.setState({currentCompany:null,currentIndex:-1})}},{key:"setActiveCompany",value:function(e,t){this.setState({currentCompany:e,currentIndex:t})}},{key:"searchName",value:function(){var e=this;_.findByName(this.state.searchName).then((function(t){e.setState({companies:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"deleteCompany",value:function(e){var t=this;_.delete(e).then((function(e){console.log(e.data),t.props.history.push("/companies"),t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.searchName,t.companies);t.currentCompany,t.currentIndex;return Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("h2",{className:"col-md-10",children:"Empresas"}),Object(k.jsx)("div",{className:"col-md-2",children:Object(k.jsxs)(r.b,{to:"/companies/add",className:"btn btn-info float-right",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Nuevo"]})})]}),a.length>0&&Object(k.jsxs)("table",{className:"table table-striped table-bordered table-hover",children:[Object(k.jsx)("thead",{className:"table-info",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"width20",children:"Id"}),Object(k.jsx)("th",{className:"width60",children:"Nombre"}),Object(k.jsx)("th",{className:"width20",children:"Acciones"})]})}),Object(k.jsx)("tbody",{children:a&&a.map((function(t,a){return Object(k.jsxs)("tr",{onClick:function(){return e.setActiveCompany(t,a)},children:[Object(k.jsx)("td",{children:t.id}),Object(k.jsx)("td",{children:t.name}),Object(k.jsxs)("td",{children:[Object(k.jsx)(r.b,{to:"/companies/"+t.id+"/view",className:"btn btn-sm btn-info mr-1","data-tip":"Ver",children:Object(k.jsx)(h.a,{icon:j.b})}),Object(k.jsx)(r.b,{to:"/companies/"+t.id,className:"btn btn-sm btn-info mr-1","data-tip":"Editar",children:Object(k.jsx)(h.a,{icon:j.a})}),Object(k.jsxs)("button",{className:"btn btn-sm btn-danger","data-tip":"Eliminar",onClick:function(){e.deleteCompany(t.id)},children:[Object(k.jsx)(N.a,{}),Object(k.jsx)(h.a,{icon:j.f})]})]})]},a)}))})]}),0==a.length&&Object(k.jsx)("div",{className:"alert alert-warning",children:"No hay fabricantes"})]})})}}]),a}(n.Component),$=a(67),Q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.getCompany=n.getCompany.bind(Object(l.a)(n)),n.updateCompany=n.updateCompany.bind(Object(l.a)(n)),n.deleteCompany=n.deleteCompany.bind(Object(l.a)(n)),n.renameKey=n.renameKey.bind(Object(l.a)(n)),n.state={currentCompany:{id:null,name:""},message:"",companies:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getCompany(this.props.match.params.id),this.retrieveCompanies()}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCompany:Object(P.a)(Object(P.a)({},e.currentCompany),{},{name:t})}}))}},{key:"getCompany",value:function(e){var t=this;_.get(e).then((function(e){t.setState({currentCompany:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"retrieveCompanies",value:function(){var e=this;_.getAll().then((function(t){console.log(t.data),t.data.forEach((function(t){return e.renameKey(t,"name","label")}));var a=JSON.stringify(t.data);console.log(a),e.setState({companies:t.data})})).catch((function(e){console.log(e)}))}},{key:"renameKey",value:function(e,t,a){e[a]=e[t]}},{key:"updateCompany",value:function(){var e=this;_.update(this.state.currentCompany.id,this.state.currentCompany).then((function(t){console.log(t.data),e.props.history.push("/companies")})).catch((function(e){console.log(e)}))}},{key:"deleteCompany",value:function(){var e=this;_.delete(this.state.currentCompany.id).then((function(t){console.log(t.data),e.props.history.push("/companies")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.currentCompany,a=e.companies;return Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-sm-12",children:t?Object(k.jsxs)("div",{className:"edit-form",children:[Object(k.jsx)("h4",{children:"Empresa"}),Object(k.jsx)($.a,{options:a}),Object(k.jsx)("form",{children:Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",value:t.name,onChange:this.onChangeName})]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)(r.b,{to:"/companies",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{type:"submit",className:"btn btn-info btn-sm mr-1",onClick:this.updateCompany,children:[Object(k.jsx)(h.a,{icon:j.a,className:"mr-2"}),"Guardar"]}),Object(k.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:this.deleteCompany,children:[Object(k.jsx)(h.a,{icon:j.f,className:"mr-2"}),"Eliminar"]})]}),Object(k.jsx)("p",{children:this.state.message})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Please click on a Company..."})]})})})}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(l.a)(n)),n.saveCompany=n.saveCompany.bind(Object(l.a)(n)),n.newCompany=n.newCompany.bind(Object(l.a)(n)),n.state={id:null,name:"",submitted:!1},n}return Object(o.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"saveCompany",value:function(){var e=this,t={name:this.state.name};_.create(t).then((function(t){e.setState({id:t.data.id,name:t.data.name,submitted:!0}),console.log(t.data),e.props.history.push("/companies")})).catch((function(e){console.log(e)}))}},{key:"newCompany",value:function(){this.setState({id:null,name:"",submitted:!1})}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"You submitted successfully!"}),Object(k.jsx)("button",{className:"btn btn-success",onClick:this.newCompany,children:"Add"})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"Nuevo fabricante"}),Object(k.jsxs)("div",{className:"form-group row",children:[Object(k.jsx)("label",{htmlFor:"name",className:"col-sm-1 col-form-label",children:"Nombre"}),Object(k.jsx)("input",{type:"text",className:"form-control col-sm-6",id:"name",required:!0,value:this.state.name,onChange:this.onChangeName,name:"name"})]}),Object(k.jsxs)(r.b,{to:"/companies",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]}),Object(k.jsxs)("button",{onClick:this.saveCompany,className:"btn btn-info btn-sm",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Crear"]})]})})}}]),a}(n.Component),Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getCompany=n.getCompany.bind(Object(l.a)(n)),n.getMachines=n.getMachines.bind(Object(l.a)(n)),n.deleteMachine=n.deleteMachine.bind(Object(l.a)(n)),n.refreshList=n.refreshList.bind(Object(l.a)(n)),n.state={currentCompany:{id:null,name:""},message:"",machines:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getCompany(this.props.match.params.id),this.getMachines(this.props.match.params.id)}},{key:"getCompany",value:function(e){var t=this;_.get(e).then((function(e){t.setState({currentCompany:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"getMachines",value:function(e){var t=this;_.getMachines(e).then((function(e){t.setState({machines:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"deleteMachine",value:function(e){var t=this;_.deleteMachine(e).then((function(e){console.log(e.data),t.props.history.push("/companies/"+t.state.currentCompany.id+"/view"),t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.getMachines(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentCompany,n=t.machines;return Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col-md-12",children:[Object(k.jsxs)("h2",{children:["Fabricante ",a.name]}),Object(k.jsx)("div",{children:Object(k.jsxs)(r.b,{to:"/companies/"+a.id+"/addMachine",className:"btn btn-info float-right",children:[Object(k.jsx)(h.a,{icon:j.c,className:"mr-2"}),"Nueva m\xe1quina"]})}),Object(k.jsx)("h3",{children:"M\xe1quina"}),Object(k.jsxs)("table",{className:"table table-striped table-bordered table-hover",children:[Object(k.jsx)("thead",{className:"table-info",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"width20",children:"Id"}),Object(k.jsx)("th",{className:"width60",children:"Producto"}),Object(k.jsx)("th",{className:"width60",children:"N\xba serie"}),Object(k.jsx)("th",{className:"width20",children:"Acciones"})]})}),Object(k.jsx)("tbody",{children:n&&n.map((function(t,a){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t.id}),Object(k.jsx)("td",{children:t.product.name}),Object(k.jsx)("td",{children:t.serialNumber}),Object(k.jsx)("td",{children:Object(k.jsxs)("button",{className:"btn btn-sm btn-danger","data-tip":"Eliminar",onClick:function(){e.deleteMachine(t.id)},children:[Object(k.jsx)(N.a,{}),Object(k.jsx)(h.a,{icon:j.f})]})})]},a)}))})]}),Object(k.jsxs)(r.b,{to:"/companies",className:"btn btn-outline-info btn-sm mr-1",children:[Object(k.jsx)(h.a,{icon:j.g,className:"mr-2"}),"Volver"]})]})})}}]),a}(n.Component),ee=(n.Component,function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Este campo es obligatorio"})}),te=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(l.a)(n)),n.state={email:"",password:"",loading:!1,message:""},n}return Object(o.a)(a,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?p.login(this.state.email,this.state.password).then((function(){t.props.history.push("/manufacturers"),window.location.reload()}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:"Inicio de sesi\xf3n incorrecto"})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsx)("div",{className:"card card-container",children:Object(k.jsxs)(q.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"Email"}),Object(k.jsx)(J.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[ee]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)(J.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[ee]})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object(k.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(k.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(k.jsx)(K.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})})}}]),a}(n.Component),ae=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(l.a)(n)),n.state={currentUser:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=p.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){p.logout(),console.log(this.props),this.props.history.push("/login")}},{key:"render",value:function(){var e=this,t=this.state.currentUser;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-info",children:[t&&"Administrator"==t.type&&Object(k.jsxs)("a",{href:"/users",className:"navbar-brand",children:[Object(k.jsx)(h.a,{icon:j.e,className:"mr-2 text-dark"}),"DSMantenimiento"]}),t&&"Technician"==t.type&&Object(k.jsxs)("a",{href:"/users",className:"navbar-brand",children:[Object(k.jsx)(h.a,{icon:j.e,className:"mr-2 text-dark"}),"DSMantenimiento"]}),t&&"Customer"==t.type&&Object(k.jsxs)("a",{href:"/users",className:"navbar-brand",children:[Object(k.jsx)(h.a,{icon:j.e,className:"mr-2 text-dark"}),"DSMantenimiento"]}),!t&&Object(k.jsxs)("a",{href:"/login",className:"navbar-brand",children:[Object(k.jsx)(h.a,{icon:j.e,className:"mr-2 text-dark"}),"DSMantenimiento"]}),t&&"Technician"==t.type&&Object(k.jsx)("div",{className:"navbar-nav",children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(r.b,{to:"/manufacturers",className:"nav-link",children:"Incidencias"})})}),t&&"Administrator"==t.type&&Object(k.jsx)("div",{className:"navbar-nav",children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(r.b,{to:"/users",className:"nav-link",children:"Usuarios"})})}),t&&"Administrator"==t.type&&Object(k.jsx)("div",{className:"navbar-nav",children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(r.b,{to:"/companies",className:"nav-link",children:"Empresas"})})}),t&&"Administrator"==t.type&&Object(k.jsx)("div",{className:"navbar-nav",children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(r.b,{to:"/manufacturers",className:"nav-link",children:"Fabricantes"})})}),t&&Object(k.jsx)("div",{className:"navbar-nav ml-auto",children:Object(k.jsxs)(b.a,{title:t.name,id:"basic-nav-dropdown",children:[Object(k.jsxs)(b.a.Header,{children:[Object(k.jsx)(h.a,{icon:j.h,className:"mr-2"}),t.email,Object(k.jsx)("p",{children:Object(k.jsx)("span",{className:"badge badge-warning mr-2",children:t.type})})]}),Object(k.jsx)(b.a.Divider,{}),Object(k.jsxs)(b.a.Item,{href:"/login",onClick:function(){e.logOut()},children:[Object(k.jsx)(h.a,{icon:j.d,className:"mr-2"}),"Cerrar sesi\xf3n"]})]})})]}),Object(k.jsx)("div",{className:"container mt-3",children:Object(k.jsxs)(m.c,{children:[Object(k.jsx)(m.a,{exact:!0,path:["/login"],component:te}),Object(k.jsx)(m.a,{exact:!0,path:["/users"],component:S}),Object(k.jsx)(m.a,{exact:!0,path:"/users/add",component:I}),Object(k.jsx)(m.a,{path:"/users/:id",component:U}),Object(k.jsx)(m.a,{exact:!0,path:["/","/manufacturers"],component:L}),Object(k.jsx)(m.a,{exact:!0,path:"/manufacturers/add",component:D}),Object(k.jsx)(m.a,{path:"/manufacturers/:id/view",component:T}),Object(k.jsx)(m.a,{path:"/manufacturers/:id/addProduct",component:Y}),Object(k.jsx)(m.a,{path:"/manufacturers/:id",component:F}),Object(k.jsx)(m.a,{path:"/products/:id",component:H}),Object(k.jsx)(m.a,{exact:!0,path:["/companies"],component:z}),Object(k.jsx)(m.a,{exact:!0,path:"/companies/add",component:X}),Object(k.jsx)(m.a,{path:"/companies/:id/view",component:Z}),Object(k.jsx)(m.a,{path:"/companies/:id",component:Q})]})})]})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(k.jsx)(r.a,{children:Object(k.jsx)(ae,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.62c61d4b.chunk.js.map